---
layout: post
title: Mi AX3200 iÃ§in OpenWRT Kurulum Rehberi
description: Mi AX3200 iÃ§in OpenWRT Kurulum Rehberi
summary: Mi AX3200 R1C iÃ§in OpenWRT Kurulum Rehberi
date: 2023-08-02 22:00
comments: true
tags: openwrt
minute: 13
--- 

![thumbnail](https://github.com/yucellmustafa/yucellmustafa.github.io/assets/49123562/48989e7c-6d7b-4487-8e58-e5597f8c22bb)

Bu yÃ¶ntem ile Windows Ã¼zerinde Mi AX3200 routerÄ±mÄ±za OpenWRT kurabileceksiniz.  

**OpenWRT kurulumunda oluÅŸabilecek tÃ¼m komplikasyonlar sizin sorumluluÄŸunuzdadÄ±r.**  

**Rehberimizi kaynak gÃ¶stererek paylaÅŸmanÄ±z Ã¶nemle rica olunur.** ğŸ™

<p align="left">
  <a href="https://youtu.be/zi18xRQkthU"><img src="https://img.shields.io/badge/Youtube-Kurulum Video Rehberi-blue?logo=youtube&logoColor=white"/></a>
</p>
  

# âš™ï¸ Cihaz Ã–zellikleri

- CPU: 1350 Mhz MediaTek MT7622B x 2 cores
- RAM: 256 MB
- FLASH: 128 MB
- 2.4 GHz Wifi: MediaTek MT7622B
- 5 GHz Wifi: MediaTek MT7915E
- PORT: 4 adet Gigabit LAN/WAN

# ğŸ’» Gerekli Program ve Dosyalar
AÅŸaÄŸÄ±daki programlarÄ± Ã¶nceden kuralÄ±m.

- Firmware - [factory](https://firmware-selector.openwrt.org/?version=22.03.5&target=mediatek%2Fmt7622&id=xiaomi_redmi-router-ax6s) olanÄ± indirelim ve ismini `factory.bin` yapalÄ±m.
  - *Bu cihaza kuracaÄŸÄ±mÄ±z yazÄ±lÄ±m dosyasÄ±dÄ±r. Ä°steÄŸe baÄŸlÄ± sÃ¼rÃ¼mÃ¼ seÃ§ip indirelim.*

- TeraTerm - [Ä°ndir](https://github.com/yucellmustafa/yucellmustafa.github.io/releases/download/v1.0/2-Teraterm-4.106.exe)

- Python3 - [Ä°ndir](https://www.python.org/downloads/)

- xmir-patcher - [Ä°ndir](https://github.com/openwrt-xiaomi/xmir-patcher)

- netmode4 (windows) - [Ä°ndir](https://gist.githubusercontent.com/jmceleney/890532f8924e1e17048a0b427577ddd3/raw/64d9d2ac7de06d92d213162fa237ebc6b96108a6/unlock_mi.py)
- netmode4 (wsl) - [Ä°ndir](https://gist.githubusercontent.com/jmceleney/33c626a33960ac8a1764614cf57420cd/raw/2426919fcf6a06f6c24b03faae9dd805bf50b4f0/xiaomi-enable-mesh-telnet.py)

# ğŸš€ OpenWRT Kurulumu

- CihazÄ± LAN portundan bilgisayara baÄŸladÄ±ktan sonra [192.168.31.1](http://192.168.31.1/) adresinden ilk kurulumu yapÄ±n.

- Ä°ndirdiÄŸimiz `netmode4` dosyasÄ±nÄ± python ile Ã§alÄ±ÅŸtÄ±ralÄ±m. **(Windows Ã¼zerindeki python3 ile Ã§alÄ±ÅŸmÄ±yorsa WSL'de deneyiniz.)**

- Adres Ã§ubuÄŸuna girdiÄŸimizde cevabÄ± almamÄ±z gerekiyor:

  `http://192.168.31.1/cgi-bin/luci/;stok=${token}/api/xqnetwork/get_netmode`

  Cevap: `{"netmode":4,"code":0}`

- Ä°ndirdiÄŸimiz xmir-pather programÄ±nÄ± run.bat dosyasÄ±ndan Ã§alÄ±ÅŸtÄ±ralÄ±m. 

  - `1` yazarak ip ayarlayalÄ±m. 192.168.31.1 yapalÄ±m.
  - `2` yazarak da ssh aktif edelim.

- [Bu](http://192.168.31.1/cgi-bin/luci/api/xqsystem/fac_info) adresten ssh'Ä±n true olduÄŸunu kontrol edelim.

- "TeraTerm" programÄ±nÄ± aÃ§Ä±n ve ssh seÃ§ili ÅŸekilde 192.168.31.1 adresinden cihaza baÄŸlanÄ±n.

- GiriÅŸ iÃ§in alttaki bilgileri girelim
  
  ```
  XiaoQiang login: root
  Password: root
  ```
- AÅŸaÄŸÄ±daki komutlarÄ± girelim: 
  ```
  nvram set ssh_en=1
  nvram set uart_en=1
  nvram set boot_wait=on
  nvram set flag_boot_success=1
  nvram set flag_try_sys1_failed=0
  nvram set flag_try_sys2_failed=0
  nvram commit
  ```

- Python ile http serveri aÃ§alÄ±m: `python -m http.server`

- Daha sonra kullanÄ±cÄ± ana klasÃ¶rÃ¼ne factory.bin dosyasÄ±nÄ± atalÄ±m.

- Alttaki komutlarÄ± girerek http serverinden dosyayÄ± cihaza Ã§ekelim ve yazÄ±lÄ±mÄ± cihaza kuralÄ±m:
  ```
  cd /tmp
  wget http://<IP adresiniz>:8000/factory.bin
  mtd -r write factory.bin firmware
  ```

- YazÄ±lÄ±m atma tamamlandÄ±ktan sonra, cihazÄ±nÄ±z OpenWrt'de yeniden baÅŸlatÄ±lmalÄ±dÄ±r. Cihaz IP'sinin, yeniden baÅŸlatÄ±ldÄ±ktan sonra 192.168.1.1 olan OpenWrt varsayÄ±lan IP adresine deÄŸiÅŸeceÄŸine dikkat edin.

- EÄŸer stock yazÄ±lÄ±m aÃ§Ä±lÄ±yorsa yeni bir ssh baÅŸlatÄ±p aÅŸaÄŸÄ±daki komutlarÄ± girin:
  ```
  nvram set flag_ota_reboot=1
  nvram commit

  reboot
  ```
- Bir Ã¶nceki adÄ±mÄ± yaptÄ±ÄŸÄ±nÄ±z halde stock yazÄ±lÄ±mda aÃ§Ä±lÄ±yorsa aÅŸaÄŸÄ±daki komutlarÄ± girerek Ã¶nceki adÄ±mlarÄ± uygulayarak tekrar yazÄ±lÄ±m atÄ±n:

  ```
  nvram set ssh_en=1
  nvram set uart_en=1
  nvram set boot_wait=on
  nvram set flag_boot_success=1
  nvram set flag_try_sys1_failed=0
  nvram set flag_try_sys2_failed=0
  nvram set "boot_fw1=run boot_rd_img;bootm"
  nvram commit
  ```

- [192.168.1.1](http://192.168.1.1/) adresinden arayÃ¼ze girerek gerekli kurulumu yapÄ±n ve kullanmaya baÅŸlayÄ±nÄ±z.

- **Tebrikler OpenWRT kurulumunu tamamladÄ±nÄ±z.** ğŸ‘ğŸ‘

# ğŸ’– Ã–zel TeÅŸekkÃ¼rler
- YazdÄ±ÄŸÄ± gÃ¼zel readme'den Ã¶rnek aldÄ±ÄŸÄ±m iÃ§in [@frudotz](https://github.com/frudotz)'a teÅŸekkÃ¼rler.

# ğŸ—ƒï¸ Kaynaklar
- [OpenWRT Wiki](https://openwrt.org/toh/xiaomi/ax3200)

---
ğŸ€ Rehberimizi okuduÄŸunuz iÃ§in teÅŸekkÃ¼r ederiz!  
